<header class="navbar">
  <a class="logo" routerLink="/home" (click)="menuOpen = false">LearnX</a>

  <nav class="main-links desktop-only">
    <a routerLink="/home" routerLinkActive="active-link">Home</a>
    <a routerLink="/learning-resources" routerLinkActive="active-link"
      >Learning Resources</a
    >
    <a routerLink="/quiz" routerLinkActive="active-link">Quiz</a>
    <a routerLink="/blog" routerLinkActive="active-link">Blog</a>
  </nav>

  <button class="menu-toggle" (click)="toggleMenu()" aria-label="Toggle menu">
    ☰
  </button>

  <nav class="dropdown-menu" [class.open]="menuOpen">
    <a
      class="mobile-only"
      routerLink="/home"
      routerLinkActive="active-link"
      (click)="menuOpen = false"
    >
      Home
    </a>
    <a
      class="mobile-only"
      routerLink="/learning-resources"
      routerLinkActive="active-link"
      (click)="menuOpen = false"
    >
      Learning Resources
    </a>
    <a
      class="mobile-only"
      routerLink="/quiz"
      routerLinkActive="active-link"
      (click)="menuOpen = false"
    >
      Quiz
    </a>
    <a
      class="mobile-only"
      routerLink="/blog"
      routerLinkActive="active-link"
      (click)="menuOpen = false"
    >
      Blog
    </a>

    <ng-container *ngIf="!authService.isLoggedIn()">
      <a
        routerLink="/login"
        routerLinkActive="active-link"
        (click)="menuOpen = false"
      >
        Login
      </a>
      <a
        routerLink="/signup"
        routerLinkActive="active-link"
        (click)="menuOpen = false"
      >
        Sign Up
      </a>
    </ng-container>

    <ng-container *ngIf="authService.isLoggedIn()">
      <a
        *ngIf="isAdmin"
        routerLink="/admin"
        routerLinkActive="active-link"
        (click)="menuOpen = false"
      >
        🛠️ Admin Dashboard
      </a>
      <a
        *ngIf="isModerator"
        routerLink="/moderator"
        routerLinkActive="active-link"
        (click)="menuOpen = false"
      >
        🛠️ Mod Dashboard
      </a>
      <a
        routerLink="/settings"
        routerLinkActive="active-link"
        (click)="menuOpen = false"
      >
        👤 Settings
      </a>
      <a (click)="logout(); menuOpen = false">🚪 Logout</a>
    </ng-container>
  </nav>
</header>
