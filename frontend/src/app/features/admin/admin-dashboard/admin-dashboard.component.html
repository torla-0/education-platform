<div class="admin-dashboard">
  <div class="header-section">
    <h1 class="title">üõ†Ô∏è Admin Panel</h1>
    <p class="subtitle">Manage users and system roles</p>
  </div>

  <div class="search-filter">
    <input
      type="text"
      class="search-input"
      (keyup)="applyFilter($event)"
      placeholder="Search by email or username"
    />

    <div class="filter-buttons">
      <button class="filter-button" (click)="filterByRole('ALL')">All</button>
      <button class="filter-button" (click)="filterByRole('USER')">
        Users
      </button>
      <button class="filter-button" (click)="filterByRole('MODERATOR')">
        Moderators
      </button>
    </div>
  </div>

  <div class="user-table">
    <table>
      <thead>
        <tr>
          <th>Email</th>
          <th>Role</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of paginatedUsers">
          <td>{{ user.email }}</td>
          <td>
            <span class="role-badge" [ngClass]="user.role.toLowerCase()">
              {{ user.role }}
            </span>
          </td>
          <td>
            <button
              class="filter-button"
              *ngIf="user.role === 'USER'"
              (click)="promote(user.id)"
            >
              Promote to Moderator
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Manual Pagination Controls -->
    <div class="pagination-controls">
      <button (click)="prevPage()" [disabled]="currentPage === 1">
        ‚Üê Prev
      </button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">
        Next ‚Üí
      </button>
    </div>

    <div class="empty-msg" *ngIf="paginatedUsers.length === 0">
      <p>No users found.</p>
    </div>
  </div>
</div>
